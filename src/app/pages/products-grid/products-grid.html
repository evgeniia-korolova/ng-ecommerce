<mat-sidenav-container>
  <mat-sidenav [mode]="mode()" [opened]="isOpened()">
    <div class="p-6">
      <h2 class="text-lg text-grey-900">Categories</h2>
      <mat-nav-list>
        @for (cat of categories(); track cat) {
        <mat-list-item
          [activated]="cat === category()"
          class="my-2"
          [routerLink]="['/products', cat]"
          (click)="sidebarService.closeSidebar()"
        >
          <span matListItemTitle [class]="cat === category() ? 'text-white' : null">
            {{ cat | titlecase }}
          </span>
        </mat-list-item>
        }
      </mat-nav-list>
    </div>
  </mat-sidenav>
  <mat-sidenav-content class="bg-grey-100 p-6 h-full">
    <h1 class="text-2xl font-bold text-grey-900 uppercase mb-2">{{ category() }}</h1>
    <p class="text-base text-grey-600 mb-6">{{ store.filteredProducts().length }} products found</p>
    <div class="responsive-grid">
      @if (store.filteredProducts().length) { @for (product of store.filteredProducts(); track
      product.id; let i = $index) {
      <app-product-card [product]="product" [isFirst]="i === 0">
        <app-toggle-wishlist-button
          [product]="product"
          [style.view-transition-name]="'wishlist-button+' + product.id"
          class="!absolute z-10 top-3 right-3 w-10 h-10 rounded !bg-white border-0 shadow-md flex items-center justify-center cursor-pointer transition-all duration-300 hover:scale-110 hover:shadow-lg"
        />
      </app-product-card>

      } }
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
