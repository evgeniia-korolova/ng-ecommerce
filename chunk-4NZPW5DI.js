import{a as K}from"./chunk-NACV3TQD.js";import{a as f}from"./chunk-JTVTA7ST.js";import{a as X}from"./chunk-WADP3SKK.js";import{a as C}from"./chunk-PE362X4E.js";import{a as L}from"./chunk-HNH7NVZ7.js";import{B as M}from"./chunk-RSW7L3H6.js";import{$a as V,Aa as m,Ab as Q,F as y,Ja as B,La as $,Q as F,Wa as E,Y as b,Z as r,_a as a,ab as s,bb as j,eb as D,fb as A,gb as z,ia as l,kb as v,ob as c,oc as W,ra as S,rc as G,sa as h,sc as H,tc as J,uc as _,va as I,wa as k,xa as p,ya as t,za as i,zb as O}from"./chunk-ZO5GNGYR.js";function Z(o,d){o&1&&(t(0,"div",0)(1,"mat-icon",2),a(2,"check_circle"),i(),t(3,"span",3),a(4,"In stock and ready to ship"),i()())}function ee(o,d){o&1&&(t(0,"div",1)(1,"mat-icon",2),a(2,"warning"),i(),t(3,"span",4),a(4,"This item is currently out of stock. Add it to your wishlist to be notified when it is availiable again"),i()())}var P=class o{inStock=c.required();static \u0275fac=function(e){return new(e||o)};static \u0275cmp=l({type:o,selectors:[["app-stock-status"]],inputs:{inStock:[1,"inStock"]},decls:2,vars:1,consts:[[1,"flex","items-center","gap-2","border","border-gray-200","rounded-lg","px-3","py-3","bg-white","w-full"],[1,"flex","items-center","gap-2","border","border-red-700","rounded-lg","px-3","py-3","bg-white","w-full","danger"],[1,"small"],[1,"text-xs","text-gray-800"],[1,"text-xs"]],template:function(e,n){e&1&&S(0,Z,5,0,"div",0)(1,ee,5,0,"div",1),e&2&&h(n.inStock()?0:1)},dependencies:[_],styles:["[_nghost-%COMP%]{display:block}"]})};var R=class o{product=c.required();quantity=F(1);store=y(M);static \u0275fac=function(e){return new(e||o)};static \u0275cmp=l({type:o,selectors:[["app-product-info"]],inputs:{product:[1,"product"]},decls:38,vars:14,consts:[[1,"text-xs","rounded-xl","bg-gray-100","px-2","py-1","w-fit","mb-2"],[1,"text-sm","md:text-2xl","font-extrabold","mb-3"],[1,"mb-3","block",3,"rating"],[1,"text-base","sm:text-3xl","font-extrabold","mb-4"],[1,"mb-4",3,"inStock"],[1,"font-semibold","mb-2"],[1,"text-gray-600","border-b","border-gray-200","pb-4"],[1,"flex","items-center","gap-2"],[1,"semi-bold"],[3,"qtyUpdated","quantity"],[1,"flex","gap-4","items-center","mb","border-b","border-gray-200","pb-4","flex-wrap"],["matButton","filled",1,"w-2/3","flex","items-center","gap-2","text-xs","sm:text-sm","md:text-base","lg:text-lg",3,"click","disabled"],[1,"w-10","h-10","rouded-full","!bg-white","border-0","shadow-md","flex","items-center","justify-center","cursor-pointer","transition-all","duration-300","hover:scale-110","hover:shadow-lg",3,"product"],["matIconButton",""],[1,"pt-6","flex","flex-col","gap-2","text-gray-700","text-xs"],[1,"flex","items-center","gap-3"],[1,"small"]],template:function(e,n){e&1&&(t(0,"div",0),a(1),D(2,"titlecase"),i(),t(3,"h1",1),a(4),i(),t(5,"app-star-rating",2),a(6),i(),t(7,"p",3),a(8),i(),m(9,"app-stock-status",4),t(10,"p",5),a(11,"Description"),i(),t(12,"div",6),a(13),i(),t(14,"div",7)(15,"span",8),a(16,"Quantity : "),i(),t(17,"app-qty-selector",9),B("qtyUpdated",function(x){return n.quantity.set(x)}),i()(),t(18,"div",10)(19,"button",11),B("click",function(){return n.store.addToCart(n.product(),n.quantity())}),t(20,"mat-icon"),a(21,"shopping_cart"),i(),a(22),i(),m(23,"app-toggle-wishlist-button",12),t(24,"button",13)(25,"mat-icon"),a(26,"share"),i()()(),t(27,"div",14)(28,"div",15)(29,"mat-icon",16),a(30,"autorenew"),i(),t(31,"span"),a(32,"30 days return policy"),i()(),t(33,"div",15)(34,"mat-icon",16),a(35,"shield"),i(),t(36,"span"),a(37,"2 years warranty included"),i()()()),e&2&&(r(),s(" ",A(2,12,n.product().category),`
`),r(3),V(n.product().name),r(),p("rating",n.product().rating),r(),j(" ",n.product().rating,"(",n.product().reviewsCount," reviews) "),r(2),s("$",n.product().price),r(),p("inStock",n.product().inStock),r(4),V(n.product().description),r(4),p("quantity",n.quantity()),r(2),p("disabled",!n.product().inStock),r(3),s(" ",n.product().inStock?"Add to Cart":"Out of Stock"," "),r(),p("product",n.product()))},dependencies:[P,X,_,K,J,G,W,f,O],encapsulation:2})};var te=(o,d)=>d.stars;function ie(o,d){if(o&1&&(t(0,"div",7)(1,"span",8),a(2),i(),t(3,"div",9),m(4,"div",10),i(),t(5,"span",11),a(6),i()()),o&2){let e=d.$implicit;r(2),s("",e.stars,"\u2605 "),r(2),E("width",e.percentage,"%"),r(2),s("",e.count," ")}}var N=class o{product=c.required();totalReviews=v(()=>this.product().reviews.length);ratingBreakdown=v(()=>{let d=this.product().reviews,e=d.length;return e===0?[5,4,3,2,1].map(u=>({stars:u,count:0,percentage:0})):[5,4,3,2,1].map(u=>{let x=d.filter(Y=>Y.rating===u).length;return{stars:u,count:x,percentage:x/e*100}})});static \u0275fac=function(e){return new(e||o)};static \u0275cmp=l({type:o,selectors:[["app-rating-summary"]],inputs:{product:[1,"product"]},decls:11,vars:3,consts:[[1,"flex","items-center","gap-8","mb-6","p-4","bg-gray-50","rounded-lg"],[1,"flex","flex-col","items-center","w-1/2"],[1,"text-4xl","font-bold","text-gray-900","mb-1"],[1,"flex","items-center","mb-2"],[3,"rating"],[1,"text-sm","text-gray-800"],[1,"flex-1"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-sm","w-5"],[1,"flex-1","bg-gray-200","rounded-full","h-2","mx-2"],[1,"bg-yellow-500","h-2","rounded-full","transition-all","duration-300"],[1,"text-sm","text-gray-600","w-8","text-right"]],template:function(e,n){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),a(3),i(),t(4,"div",3),m(5,"app-star-rating",4),i(),t(6,"div",5),a(7),i()(),t(8,"div",6),I(9,ie,7,4,"div",7,te),i()()),e&2&&(r(3),s(" ",n.product().rating," "),r(2),p("rating",n.product().rating),r(2),s("Based on ",n.totalReviews()," reviews"),r(2),k(n.ratingBreakdown()))},dependencies:[f],encapsulation:2})};var T=class o{review=c.required();static \u0275fac=function(e){return new(e||o)};static \u0275cmp=l({type:o,selectors:[["app-view-review-item"]],inputs:{review:[1,"review"]},decls:15,vars:10,consts:[["appViewPanel",""],[1,"flex","items-start","gap-4"],[1,"w-10","h-10","rounded-full",3,"src","alt"],[1,"text-lg","font-semibold"],[1,"flex","items-center","mb-1"],[3,"rating"],[1,"text-sm","text-gray-500"],[1,"text-base","font-semibold","mb-1"]],template:function(e,n){e&1&&(t(0,"div",0)(1,"div",1),m(2,"img",2),i(),t(3,"div")(4,"div",3),a(5),i(),t(6,"div",4),m(7,"app-star-rating",5),t(8,"div",6),a(9),D(10,"date"),i()(),t(11,"div",7),a(12),i(),t(13,"div",6),a(14),i()()()),e&2&&(r(2),p("src",n.review().userImageUrl,b)("alt",n.review().userName),r(3),s("",n.review().userName," "),r(2),p("rating",n.review().rating),r(2),s("",z(10,7,n.review().reviewDate,"MMM d, yyyy")," "),r(3),s("",n.review().title," "),r(2),s("",n.review().comment," "))},dependencies:[C,f,Q],encapsulation:2})};var ne=(o,d)=>d.id;function re(o,d){if(o&1&&m(0,"app-view-review-item",6),o&2){let e=d.$implicit;p("review",e)}}var q=class o{product=c.required();sortedReviews=v(()=>[...this.product().reviews].sort((d,e)=>e.reviewDate.getTime()-d.reviewDate.getTime()));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=l({type:o,selectors:[["app-view-reviews"]],inputs:{product:[1,"product"]},decls:10,vars:1,consts:[["appViewPanel",""],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-semibold"],["matButton","filled"],[3,"product"],[1,"flex","flex-col","gap-6"],[3,"review"]],template:function(e,n){e&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Customer's Reviews"),i(),t(4,"button",3),a(5,"Write a Review"),i()(),m(6,"app-rating-summary",4),t(7,"div",5),I(8,re,1,1,"app-view-review-item",6,ne),i()()),e&2&&(r(6),p("product",n.product()),r(2),k(n.sortedReviews()))},dependencies:[C,N,T,H],encapsulation:2})};function ae(o,d){if(o&1&&(t(0,"div",2),m(1,"img",3),t(2,"div",4),m(3,"app-product-info",5),i()(),m(4,"app-view-reviews",5)),o&2){let e=d,n=$();r(),E("view-transition-name","product-image-"+e.id),p("src",n.imageBaseUrl+e.imageUrl,b),r(2),p("product",e),r(),p("product",e)}}var U=class o{productId=c.required();store=y(M);constructor(){this.store.setProductId(this.productId)}backRoute=v(()=>`/products/${this.store.category()}`);imageBaseUrl="https://images.unsplash.com";static \u0275fac=function(e){return new(e||o)};static \u0275cmp=l({type:o,selectors:[["app-view-product-details"]],inputs:{productId:[1,"productId"]},decls:4,vars:2,consts:[[1,"mx-auto","max-w-[1200px]","py-6"],[1,"mb-6",3,"navigateTo"],[1,"flex","gap-8","mb-8"],["alt","product.name",1,"w-[180px]","h-[200px]","sm:w-[400px]","sm:h-[440px]","md:w-[500px]","md:h-[550px]","object-cover","rounded-lg",3,"src"],[1,"flex-1"],[3,"product"]],template:function(e,n){if(e&1&&(t(0,"div",0)(1,"app-back-button",1),a(2,"Continue Shopping"),i(),S(3,ae,5,5),i()),e&2){let u;r(),p("navigateTo",n.backRoute()),r(2),h((u=n.store.selectedProduct())?3:-1,u)}},dependencies:[L,R,q],encapsulation:2})};export{U as default};
